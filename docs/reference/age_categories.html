<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create an age group variable — age_categories • sitrep</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create an age group variable — age_categories" />
<meta property="og:description" content="Create an age group variable" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-149766533-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-149766533-1');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sitrep</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="https://r4epis.netlify.com">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/R4EPI/sitrep">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create an age group variable</h1>
    <small class="dont-index">Source: <a href='https://github.com/R4EPI/sitrep/blob/master/R/age-categories.R'><code>R/age-categories.R</code></a></small>
    <div class="hidden name"><code>age_categories.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create an age group variable</p>
    </div>

    <pre class="usage"><span class='fu'>age_categories</span>(<span class='no'>x</span>, <span class='kw'>breakers</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>lower</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>upper</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>separator</span> <span class='kw'>=</span> <span class='st'>"-"</span>, <span class='kw'>ceiling</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>above.char</span> <span class='kw'>=</span> <span class='st'>"+"</span>)

<span class='fu'>group_age_categories</span>(<span class='no'>dat</span>, <span class='kw'>years</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>months</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>weeks</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>days</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>one_column</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>drop_empty_overlaps</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Your age variable</p></td>
    </tr>
    <tr>
      <th>breakers</th>
      <td><p>A string. Age category breaks you can define within c().
Alternatively use "lower", "upper" and "by" to set these breaks based on a
sequence.</p></td>
    </tr>
    <tr>
      <th>lower</th>
      <td><p>A number. The lowest age value you want to consider (default is 0)</p></td>
    </tr>
    <tr>
      <th>upper</th>
      <td><p>A number. The highest age value you want to consider</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>A number. The number of years you want between groups</p></td>
    </tr>
    <tr>
      <th>separator</th>
      <td><p>A character that you want to have between ages in group
names. The default is "-" producing e.g. 0-10.</p></td>
    </tr>
    <tr>
      <th>ceiling</th>
      <td><p>A TRUE/FALSE variable. Specify whether you would like the
highest value in your breakers, or alternatively the upper value specified,
to be the endpoint. This would produce the highest group of "70-80" rather
than "80+". The default is FALSE (to produce a group of 80+).</p></td>
    </tr>
    <tr>
      <th>above.char</th>
      <td><p>Only considered when ceiling == FALSE.  A character that
you want to have after your highest age group. The default is "+" producing
e.g. 80+</p></td>
    </tr>
    <tr>
      <th>dat</th>
      <td><p>a data frame with at least one column defining an age category</p></td>
    </tr>
    <tr>
      <th>years, months, weeks, days</th>
      <td><p>the bare name of the column defining years,
months, weeks, or days (or NULL if the column doesn't exist)</p></td>
    </tr>
    <tr>
      <th>one_column</th>
      <td><p>if <code>TRUE</code> (default), the categories will be joined into a
single column called "age_category" that appends the type of age category
used. If <code>FALSE</code>, there will be one column with the grouped age categories
called "age_category" and a second column indicating age unit called
"age_unit".</p></td>
    </tr>
    <tr>
      <th>drop_empty_overlaps</th>
      <td><p>if <code>TRUE</code>, unused levels are dropped if they have
been replaced by a more fine-grained definition and are empty. Practically,
this means that the first level for years, months, and weeks are in
consideration for being removed via <code><a href='https://forcats.tidyverse.org/reference/fct_drop.html'>forcats::fct_drop()</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a data frame</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># \dontrun{</span>
<span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='st'>"dplyr"</span>)) {
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>50</span>)
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='msf_dict.html'>gen_data</a></span>(<span class='st'>"Cholera"</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>100</span>)
<span class='no'>ages</span> <span class='kw'>&lt;-</span> <span class='no'>dat</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span>(<span class='fu'><a href='https://dplyr.tidyverse.org/reference/reexports.html'>starts_with</a></span>(<span class='st'>"age"</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='kw'>age_years</span> <span class='kw'>=</span> <span class='fu'>age_categories</span>(<span class='no'>age_years</span>, <span class='kw'>breakers</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>15</span>, <span class='fl'>20</span>))) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='kw'>age_months</span> <span class='kw'>=</span> <span class='fu'>age_categories</span>(<span class='no'>age_months</span>, <span class='kw'>breakers</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>15</span>, <span class='fl'>20</span>))) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='kw'>age_days</span> <span class='kw'>=</span> <span class='fu'>age_categories</span>(<span class='no'>age_days</span>, <span class='kw'>breakers</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>5</span>, <span class='fl'>15</span>)))

<span class='no'>ages</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>group_age_categories</span>(<span class='kw'>years</span> <span class='kw'>=</span> <span class='no'>age_years</span>, <span class='kw'>months</span> <span class='kw'>=</span> <span class='no'>age_months</span>, <span class='kw'>days</span> <span class='kw'>=</span> <span class='no'>age_days</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/pull.html'>pull</a></span>(<span class='no'>age_category</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>()
}</div><div class='output co'>#&gt; <span class='message'>Loading required package: dplyr</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘dplyr’</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:stats’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    filter, lag</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:base’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    intersect, setdiff, setequal, union</span></div><div class='output co'>#&gt; .
#&gt;     0-4 days    5-14 days     15+ days   0-4 months   5-9 months 10-14 months 
#&gt;            0            0            0            0            1            0 
#&gt; 15-19 months   20+ months    5-9 years  10-14 years  15-19 years    20+ years 
#&gt;            2            0            5            6            6           80 </div><div class='input'># }
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Dirk Schumacher, Zhian N. Kamvar, Alex Spina, Kate Doyle, Chris Jarvis, Lukas Richter.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


